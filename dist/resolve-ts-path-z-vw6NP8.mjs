import o from"node:path";import{p as x,a as g,b as j}from"./index-bHZVXcAL.mjs";import{parseTsconfig as d,getTsconfig as M,createFilesMatcher as y,createPathsMatcher as S}from"get-tsconfig";let a,l,f=!1;const b=s=>{let t=null;if(s){const e=o.resolve(s);t={path:e,config:d(e)}}else{try{t=M()}catch{}if(!t)return}a=y(t),l=S(t),f=t?.config.compilerOptions?.allowJs??!1},P=`
//# sourceMappingURL=data:application/json;base64,`,p=()=>process.sourceMapsEnabled??!0,c=({code:s,map:t})=>s+P+Buffer.from(JSON.stringify(t),"utf8").toString("base64"),E=s=>{const t=s.indexOf(":");if(t!==-1)return s.slice(0,t)},u=s=>s[0]==="."&&(s[1]==="/"||s[1]==="."||s[2]==="/"),v=s=>u(s)||o.isAbsolute(s),J=s=>{if(v(s))return!0;const t=E(s);return t&&t!=="node"},O="file://",T=/\.([cm]?ts|[tj]sx)($|\?)/,$=/\.json($|\?)/,w=/\/(?:$|\?)/,A=s=>{if(!s.includes("import")&&!s.includes("export"))return!1;try{return x(s)[3]}catch{return!0}},R=(s,t,e)=>{if(s.endsWith(".cjs")){const n=g(s,t);return n?p()?c(n):n.code:t}if(e||A(t)){const n=j(t,s,{tsconfigRaw:a?.(s)});return p()?c(n):n.code}return t},r=Object.create(null);r[".js"]=[".ts",".tsx",".js",".jsx"],r[".jsx"]=[".tsx",".ts",".jsx",".js"],r[".cjs"]=[".cts"],r[".mjs"]=[".mts"];const U=s=>{const[t,e]=s.split("?"),n=o.extname(t),i=r[n];if(i){const m=t.slice(0,-n.length);return i.map(h=>m+h+(e?`?${e}`:""))}};export{l as a,T as b,f as c,$ as d,c as e,O as f,a as g,J as h,u as i,w as j,b as l,U as r,R as t};
