"use strict";var i=require("node:path"),c=require("./index-DTCJysGI.cjs"),o=require("get-tsconfig");exports.fileMatcher=void 0,exports.tsconfigPathsMatcher=void 0,exports.allowJs=!1;const x=s=>{let t=null;if(s){const n=i.resolve(s);t={path:n,config:o.parseTsconfig(n)}}else{try{t=o.getTsconfig()}catch{}if(!t)return}exports.fileMatcher=o.createFilesMatcher(t),exports.tsconfigPathsMatcher=o.createPathsMatcher(t),exports.allowJs=t?.config.compilerOptions?.allowJs??!1},m=`
//# sourceMappingURL=data:application/json;base64,`,f=()=>process.sourceMapsEnabled??!0,a=({code:s,map:t})=>s+m+Buffer.from(JSON.stringify(t),"utf8").toString("base64"),g=s=>{const t=s.indexOf(":");if(t!==-1)return s.slice(0,t)},u=s=>s[0]==="."&&(s[1]==="/"||s[1]==="."||s[2]==="/"),M=s=>u(s)||i.isAbsolute(s),d=s=>{if(M(s))return!0;const t=g(s);return t&&t!=="node"},j="file://",P=/\.([cm]?ts|[tj]sx)($|\?)/,y=/\.json($|\?)/,v=/\/(?:$|\?)/,S=s=>{if(!s.includes("import")&&!s.includes("export"))return!1;try{return c.parseEsm(s)[3]}catch{return!0}},E=(s,t,n)=>{if(s.endsWith(".cjs")){const e=c.transformDynamicImport(s,t);return e?f()?a(e):e.code:t}if(n||S(t)){const e=c.transformSync(t,s,{tsconfigRaw:exports.fileMatcher?.(s)});return f()?a(e):e.code}return t},r=Object.create(null);r[".js"]=[".ts",".tsx",".js",".jsx"],r[".jsx"]=[".tsx",".ts",".jsx",".js"],r[".cjs"]=[".cts"],r[".mjs"]=[".mts"];const T=s=>{const[t,n]=s.split("?"),e=i.extname(t),l=r[e];if(l){const h=t.slice(0,-e.length);return l.map(p=>h+p+(n?`?${n}`:""))}};exports.fileUrlPrefix=j,exports.inlineSourceMap=a,exports.isDirectoryPattern=v,exports.isJsonPattern=y,exports.isRelativePath=u,exports.loadTsconfig=x,exports.requestAcceptsQuery=d,exports.resolveTsPath=T,exports.transformCjs=E,exports.tsExtensionsPattern=P;
