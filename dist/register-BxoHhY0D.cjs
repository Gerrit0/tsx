"use strict";var i=require("node:module"),d=require("node:worker_threads"),a=typeof document<"u"?document.currentScript:null;const u=s=>{const{sourceMapsEnabled:o}=process;process.setSourceMapsEnabled(!0);const{port1:e,port2:t}=new d.MessageChannel;return i.register(`./esm/index.mjs?${Date.now()}`,{parentURL:typeof document>"u"?require("url").pathToFileURL(__filename).href:a&&a.src||new URL("register-BxoHhY0D.cjs",document.baseURI).href,data:{namespace:s?.namespace,port:t},transferList:[t]}),s?.onImport&&e.on("message",r=>{console.log("message",r)}),()=>(o===!1&&process.setSourceMapsEnabled(!1),e.postMessage("deactivate"),new Promise(r=>{const n=c=>{c==="deactivated"&&(r(),e.off("message",n))};e.on("message",n)}))};exports.register=u;
