import o from"node:path";import{parseTsconfig as f,getTsconfig as h,createFilesMatcher as x,createPathsMatcher as m}from"get-tsconfig";const g=`
//# sourceMappingURL=data:application/json;base64,`,P=()=>process.sourceMapsEnabled??!0,u=({code:s,map:t})=>s+g+Buffer.from(JSON.stringify(t),"utf8").toString("base64"),e=process.env.TSX_TSCONFIG_PATH?{path:o.resolve(process.env.TSX_TSCONFIG_PATH),config:f(process.env.TSX_TSCONFIG_PATH)}:h();console.log({tsconfig:e});const j=e&&x(e),S=e&&m(e),T=e?.config.compilerOptions?.allowJs??!1,M=s=>{const t=s.indexOf(":");if(t!==-1)return s.slice(0,t)},r=s=>s[0]==="."&&(s[1]==="/"||s[1]==="."||s[2]==="/"),b=s=>r(s)||o.isAbsolute(s),d=s=>{if(b(s))return!0;const t=M(s);return t&&t!=="node"},O="file://",v=/\.([cm]?ts|[tj]sx)($|\?)/,A=/\.json($|\?)/,_=/\/(?:$|\?)/,n=Object.create(null);n[".js"]=[".ts",".tsx",".js",".jsx"],n[".jsx"]=[".tsx",".ts",".jsx",".js"],n[".cjs"]=[".cts"],n[".mjs"]=[".mts"];const y=s=>{const[t,c]=s.split("?"),a=o.extname(t),i=n[a];if(i){const l=t.slice(0,-a.length);return i.map(p=>l+p+(c?`?${c}`:""))}};export{O as a,r as b,v as c,T as d,A as e,j as f,d as g,_ as h,u as i,y as r,P as s,S as t};
