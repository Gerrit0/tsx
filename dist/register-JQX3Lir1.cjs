"use strict";var c=require("node:module"),i=require("node:worker_threads"),s=typeof document<"u"?document.currentScript:null;const u=t=>{const{sourceMapsEnabled:n}=process;process.setSourceMapsEnabled(!0);const{port1:e,port2:r}=new i.MessageChannel;return c.register(`./esm/index.mjs?${Date.now()}`,{parentURL:typeof document>"u"?require("url").pathToFileURL(__filename).href:s&&s.src||new URL("register-JQX3Lir1.cjs",document.baseURI).href,data:{namespace:t?.namespace,port:r},transferList:[r]}),()=>(e.postMessage("deactivate"),n===!1&&process.setSourceMapsEnabled(!1),new Promise(a=>{e.once("message",o=>{o==="deactivated"&&a()})}))};exports.register=u;
